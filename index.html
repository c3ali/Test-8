<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kanban Board</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}
body {
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
background: #f5f5f5;
display: flex;
height: 100vh;
overflow: hidden;
}
.sidebar {
width: 250px;
background: #2c3e50;
color: white;
padding: 20px;
overflow-y: auto;
transition: transform 0.3s;
z-index: 100;
}
.sidebar h2 {
font-size: 18px;
margin-bottom: 15px;
color: #ecf0f1;
}
.member {
display: flex;
align-items: center;
padding: 10px;
margin-bottom: 8px;
background: #34495e;
border-radius: 6px;
cursor: pointer;
transition: background 0.2s;
}
.member:hover {
background: #4a5f7a;
}
.member-avatar {
width: 32px;
height: 32px;
border-radius: 50%;
background: #3498db;
display: flex;
align-items: center;
justify-content: center;
margin-right: 10px;
font-weight: bold;
font-size: 14px;
}
.member-name {
flex: 1;
font-size: 14px;
}
.add-member-btn {
width: 100%;
padding: 10px;
background: #27ae60;
color: white;
border: none;
border-radius: 6px;
cursor: pointer;
margin-top: 10px;
font-size: 14px;
}
.main-content {
flex: 1;
display: flex;
flex-direction: column;
overflow: hidden;
}
.header {
background: white;
padding: 20px 30px;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
display: flex;
justify-content: space-between;
align-items: center;
}
.header h1 {
font-size: 24px;
color: #2c3e50;
}
.filters {
display: flex;
gap: 15px;
align-items: center;
}
.filter-group {
display: flex;
align-items: center;
gap: 8px;
}
.filter-group label {
font-size: 14px;
color: #7f8c8d;
}
.filter-group select,
.filter-group input {
padding: 8px 12px;
border: 1px solid #ddd;
border-radius: 4px;
font-size: 14px;
background: white;
}
.board-container {
flex: 1;
padding: 30px;
overflow-x: auto;
overflow-y: hidden;
}
.board {
display: flex;
gap: 20px;
min-height: 100%;
width: fit-content;
}
.kanban-column {
background: #ebecf0;
border-radius: 8px;
width: 300px;
display: flex;
flex-direction: column;
max-height: 100%;
}
.column-header {
padding: 15px;
font-weight: 600;
color: #172b4d;
font-size: 16px;
display: flex;
justify-content: space-between;
align-items: center;
}
.column-header button {
background: none;
border: none;
color: #5e6c84;
cursor: pointer;
padding: 4px 8px;
border-radius: 4px;
}
.column-header button:hover {
background: rgba(0,0,0,0.08);
color: #172b4d;
}
.cards-container {
flex: 1;
overflow-y: auto;
padding: 0 15px 15px;
min-height: 100px;
}
.kanban-card {
background: white;
border-radius: 6px;
padding: 12px;
margin-bottom: 12px;
box-shadow: 0 1px 2px rgba(0,0,0,0.08);
cursor: move;
transition: box-shadow 0.2s;
}
.kanban-card:hover {
box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}
.kanban-card.dragging {
opacity: 0.5;
}
.card-title {
font-weight: 500;
color: #172b4d;
margin-bottom: 8px;
font-size: 15px;
}
.card-tags {
display: flex;
gap: 6px;
flex-wrap: wrap;
margin-bottom: 8px;
}
.tag {
padding: 4px 8px;
border-radius: 4px;
font-size: 12px;
font-weight: 500;
}
.tag.bug {
background: #e74c3c;
color: white;
}
.tag.feature {
background: #3498db;
color: white;
}
.tag.enhancement {
background: #2ecc71;
color: white;
}
.card-meta {
display: flex;
justify-content: space-between;
align-items: center;
margin-top: 10px;
}
.card-assignee {
display: flex;
align-items: center;
gap: 6px;
}
.assignee-avatar {
width: 24px;
height: 24px;
border-radius: 50%;
background: #e74c3c;
display: flex;
align-items: center;
justify-content: center;
color: white;
font-size: 11px;
font-weight: bold;
}
.card-comments {
color: #7f8c8d;
font-size: 13px;
}
.add-card-btn {
width: 100%;
padding: 10px;
background: rgba(0,0,0,0.03);
border: none;
border-radius: 6px;
cursor: pointer;
color: #5e6c84;
margin: 0 15px 15px;
width: calc(100% - 30px);
}
.add-card-btn:hover {
background: rgba(0,0,0,0.08);
color: #172b4d;
}
.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.5);
z-index: 1000;
align-items: center;
justify-content: center;
}
.modal.active {
display: flex;
}
.modal-content {
background: white;
border-radius: 8px;
width: 500px;
max-width: 90vw;
max-height: 90vh;
overflow-y: auto;
}
.modal-header {
padding: 20px;
border-bottom: 1px solid #e0e0e0;
display: flex;
justify-content: space-between;
align-items: center;
}
.modal-header h2 {
font-size: 20px;
color: #172b4d;
}
.modal-close {
background: none;
border: none;
font-size: 24px;
color: #5e6c84;
cursor: pointer;
padding: 4px;
}
.modal-body {
padding: 20px;
}
.form-group {
margin-bottom: 15px;
}
.form-group label {
display: block;
margin-bottom: 6px;
font-weight: 500;
color: #172b4d;
font-size: 14px;
}
.form-group input,
.form-group textarea,
.form-group select {
width: 100%;
padding: 10px;
border: 1px solid #ddd;
border-radius: 4px;
font-size: 14px;
}
.form-group textarea {
resize: vertical;
min-height: 80px;
}
.tags-input-wrapper {
display: flex;
flex-wrap: wrap;
gap: 6px;
padding: 8px;
border: 1px solid #ddd;
border-radius: 4px;
min-height: 44px;
align-items: center;
}
.tags-input-wrapper input {
border: none;
outline: none;
flex: 1;
min-width: 100px;
padding: 4px;
}
.tag-item {
padding: 4px 8px;
border-radius: 4px;
font-size: 12px;
display: flex;
align-items: center;
gap: 4px;
}
.tag-item button {
background: none;
border: none;
color: white;
cursor: pointer;
font-size: 14px;
padding: 0 2px;
}
.comments-section {
margin-top: 20px;
padding-top: 20px;
border-top: 1px solid #e0e0e0;
}
.comment {
padding: 12px;
background: #f8f9fa;
border-radius: 6px;
margin-bottom: 12px;
}
.comment-header {
display: flex;
justify-content: space-between;
margin-bottom: 6px;
}
.comment-author {
font-weight: 600;
font-size: 14px;
color: #172b4d;
}
.comment-time {
font-size: 12px;
color: #7f8c8d;
}
.comment-text {
font-size: 14px;
color: #4b5563;
}
.comment-input-wrapper {
display: flex;
gap: 10px;
margin-top: 15px;
}
.comment-input-wrapper input {
flex: 1;
padding: 10px;
border: 1px solid #ddd;
border-radius: 4px;
}
.btn-primary {
background: #3498db;
color: white;
border: none;
padding: 10px 20px;
border-radius: 4px;
cursor: pointer;
font-size: 14px;
}
.btn-primary:hover {
background: #2980b9;
}
.btn-secondary {
background: #95a5a6;
color: white;
border: none;
padding: 10px 20px;
border-radius: 4px;
cursor: pointer;
font-size: 14px;
}
.btn-secondary:hover {
background: #7f8c8d;
}
.hidden {
display: none;
}
@media (max-width: 768px) {
.sidebar {
position: absolute;
transform: translateX(-100%);
}
.sidebar.open {
transform: translateX(0);
}
}
</style>
</head>
<body>
<div class="sidebar" id="sidebar">
<h2>Membres du projet</h2>
<div id="membersList">
<div class="member" data-user="user1">
<div class="member-avatar">JD</div>
<div class="member-name">Jean Dupont</div>
</div>
<div class="member" data-user="user2">
<div class="member-avatar">MM</div>
<div class="member-name">Marie Martin</div>
</div>
<div class="member" data-user="user3">
<div class="member-avatar">PL</div>
<div class="member-name">Pierre Lalonde</div>
</div>
</div>
<button class="add-member-btn" onclick="openTagModal()">Gérer les étiquettes</button>
</div>
<div class="main-content">
<div class="header">
<div>
<h1>Kanban Board</h1>
</div>
<div class="filters">
<div class="filter-group">
<label>Filtrer par étiquette:</label>
<select id="tagFilter" onchange="applyFilters()">
<option value="">Toutes les étiquettes</option>
<option value="bug">Bug</option>
<option value="feature">Feature</option>
<option value="enhancement">Enhancement</option>
</select>
</div>
<div class="filter-group">
<label>Filtrer par membre:</label>
<select id="userFilter" onchange="applyFilters()">
<option value="">Tous les membres</option>
<option value="user1">Jean Dupont</option>
<option value="user2">Marie Martin</option>
<option value="user3">Pierre Lalonde</option>
</select>
</div>
</div>
</div>
<div class="board-container">
<div class="board">
<div class="kanban-column" data-column="todo">
<div class="column-header">
<span>À faire</span>
<button onclick="addNewCard('todo')">+</button>
</div>
<div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)">
<div class="kanban-card" draggable="true" ondragstart="dragStart(event)" data-card-id="card1" data-tags="bug,feature" data-user="user1">
<div class="card-title">Corriger le bug de connexion</div>
<div class="card-tags">
<span class="tag bug">Bug</span>
<span class="tag feature">Feature</span>
</div>
<div class="card-meta">
<div class="card-assignee">
<div class="assignee-avatar">JD</div>
</div>
<div class="card-comments">3 commentaires</div>
</div>
</div>
<div class="kanban-card" draggable="true" ondragstart="dragStart(event)" data-card-id="card2" data-tags="enhancement" data-user="user2">
<div class="card-title">Améliorer les performances</div>
<div class="card-tags">
<span class="tag enhancement">Enhancement</span>
</div>
<div class="card-meta">
<div class="card-assignee">
<div class="assignee-avatar">MM</div>
</div>
<div class="card-comments">1 commentaire</div>
</div>
</div>
</div>
<button class="add-card-btn" onclick="addNewCard('todo')">+ Ajouter une carte</button>
</div>
<div class="kanban-column" data-column="progress">
<div class="column-header">
<span>En cours</span>
<button onclick="addNewCard('progress')">+</button>
</div>
<div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)">
<div class="kanban-card" draggable="true" ondragstart="dragStart(event)" data-card-id="card3" data-tags="feature" data-user="user3">
<div class="card-title">Implémenter le système de notifications</div>
<div class="card-tags">
<span class="tag feature">Feature</span>
</div>
<div class="card-meta">
<div class="card-assignee">
<div class="assignee-avatar">PL</div>
</div>
<div class="card-comments">5 commentaires</div>
</div>
</div>
</div>
<button class="add-card-btn" onclick="addNewCard('progress')">+ Ajouter une carte</button>
</div>
<div class="kanban-column" data-column="done">
<div class="column-header">
<span>Terminé</span>
<button onclick="addNewCard('done')">+</button>
</div>
<div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)">
<div class="kanban-card" draggable="true" ondragstart="dragStart(event)" data-card-id="card4" data-tags="bug" data-user="user1">
<div class="card-title">Mettre à jour la documentation</div>
<div class="card-tags">
<span class="tag bug">Bug</span>
</div>
<div class="card-meta">
<div class="card-assignee">
<div class="assignee-avatar">JD</div>
</div>
<div class="card-comments">2 commentaires</div>
</div>
</div>
</div>
<button class="add-card-btn" onclick="addNewCard('done')">+ Ajouter une carte</button>
</div>
</div>
</div>
</div>
</div>
<div class="modal" id="cardModal">
<div class="modal-content">
<div class="modal-header">
<h2 id="modalTitle">Modifier la carte</h2>
<button class="modal-close" onclick="closeCardModal()">&times;</button>
</div>
<div class="modal-body">
<form onsubmit="saveCard(event)">
<input type="hidden" id="cardId">
<input type="hidden" id="cardColumn">
<div class="form-group">
<label>Titre</label>
<input type="text" id="cardTitle" required>
</div>
<div class="form-group">
<label>Description</label>
<textarea id="cardDescription"></textarea>
</div>
<div class="form-group">
<label>Étiquettes</label>
<div class="tags-input-wrapper" id="tagsInput">
<input type="text" id="tagInput" placeholder="Ajouter une étiquette..." onkeypress="handleTagInput(event)">
</div>
</div>
<div class="form-group">
<label>Assigné à</label>
<select id="cardAssignee">
<option value="">Non assigné</option>
<option value="user1">Jean Dupont</option>
<option value="user2">Marie Martin</option>
<option value="user3">Pierre Lalonde</option>
</select>
</div>
<div class="comments-section">
<h3>Commentaires</h3>
<div id="commentsList"></div>
<div class="comment-input-wrapper">
<input type="text" id="commentInput" placeholder="Ajouter un commentaire...">
<button type="button" class="btn-primary" onclick="addComment()">Envoyer</button>
</div>
</div>
<div style="margin-top: 20px; display: flex; gap: 10px; justify-content: flex-end;">
<button type="button" class="btn-secondary" onclick="closeCardModal()">Annuler</button>
<button type="submit" class="btn-primary">Sauvegarder</button>
</div>
</form>
</div>
</div>
</div>
<div class="modal" id="tagModal">
<div class="modal-content">
<div class="modal-header">
<h2>Gérer les étiquettes</h2>
<button class="modal-close" onclick="closeTagModal()">&times;</button>
</div>
<div class="modal-body">
<div id="tagColorsList">
<div style="display: flex; align-items: center; gap: 10px; padding: 10px; border-bottom: 1px solid #e0e0e0;">
<span class="tag bug">Bug</span>
<input type="color" value="#e74c3c" style="width: 40px; height: 30px;">
</div>
<div style="display: flex; align-items: center; gap: 10px; padding: 10px; border-bottom: 1px solid #e0e0e0;">
<span class="tag feature">Feature</span>
<input type="color" value="#3498db" style="width: 40px; height: 30px;">
</div>
<div style="display: flex; align-items: center; gap: 10px; padding: 10px;">
<span class="tag enhancement">Enhancement</span>
<input type="color" value="#2ecc71" style="width: 40px; height: 30px;">
</div>
</div>
<div style="margin-top: 20px; text-align: right;">
<button class="btn-secondary" onclick="closeTagModal()">Fermer</button>
</div>
</div>
</div>
</div>
<div class="modal" id="addCardModal">
<div class="modal-content">
<div class="modal-header">
<h2>Ajouter une carte</h2>
<button class="modal-close" onclick="closeAddCardModal()">&times;</button>
</div>
<div class="modal-body">
<form onsubmit="saveNewCard(event)">
<div class="form-group">
<label>Titre</label>
<input type="text" id="newCardTitle" required>
</div>
<div class="form-group">
<label>Description</label>
<textarea id="newCardDescription"></textarea>
</div>
<div class="form-group">
<label>Étiquettes</label>
<div class="tags-input-wrapper" id="newCardTagsInput">
<input type="text" id="newCardTagInput" placeholder="Ajouter une étiquette..." onkeypress="handleNewCardTagInput(event)">
</div>
</div>
<div class="form-group">
<label>Assigné à</label>
<select id="newCardAssignee">
<option value="">Non assigné</option>
<option value="user1">Jean Dupont</option>
<option value="user2">Marie Martin</option>
<option value="user3">Pierre Lalonde</option>
</select>
</div>
<div style="margin-top: 20px; display: flex; gap: 10px; justify-content: flex-end;">
<button type="button" class="btn-secondary" onclick="closeAddCardModal()">Annuler</button>
<button type="submit" class="btn-primary">Créer</button>
</div>
</form>
</div>
</div>
</div>
<script>
let draggedElement = null;
let currentCardId = null;
let users = {
user1: { name: 'Jean Dupont', avatar: 'JD' },
user2: { name: 'Marie Martin', avatar: 'MM' },
user3: { name: 'Pierre Lalonde', avatar: 'PL' }
};
let cards = {
card1: { id: 'card1', title: 'Corriger le bug de connexion', description: 'Le bug se produit sur Chrome', tags: ['bug','feature'], user: 'user1', comments: [] },
card2: { id: 'card2', title: 'Améliorer les performances', description: '', tags: ['enhancement'], user: 'user2', comments: [] },
card3: { id: 'card3', title: 'Implémenter le système de notifications', description: 'Notifications push et email', tags: ['feature'], user: 'user3', comments: [] },
card4: { id: 'card4', title: 'Mettre à jour la documentation', description: '', tags: ['bug'], user: 'user1', comments: [] }
};
let currentFilterTag = '';
let currentFilterUser = '';
let currentTargetColumn = '';
function allowDrop(ev) {
ev.preventDefault();
}
function dragStart(ev) {
draggedElement = ev.target;
ev.target.classList.add('dragging');
ev.dataTransfer.effectAllowed = 'move';
ev.dataTransfer.setData('text/html', ev.target.innerHTML);
}
function drop(ev) {
ev.preventDefault();
const container = ev.target.closest('.cards-container');
if (container && draggedElement) {
draggedElement.classList.remove('dragging');
container.appendChild(draggedElement);
const cardId = draggedElement.dataset.cardId;
const oldContainer = draggedElement.parentElement;
updateCardComments(cardId);
checkForUpdates();
}
draggedElement = null;
}
function addNewCard(columnId) {
currentTargetColumn = columnId;
document.getElementById('addCardModal').classList.add('active');
}
function openCardModal(cardId) {
currentCardId = cardId;
const card = cards[cardId];
document.getElementById('cardId').value = cardId;
document.getElementById('cardTitle').value = card.title;
document.getElementById('cardDescription').value = card.description;
document.getElementById('cardAssignee').value = card.user || '';
const tagsContainer = document.getElementById('tagsInput');
const existingTags = tagsContainer.querySelectorAll('.tag-item');
existingTags.forEach(tag => tag.remove());
card.tags.forEach(tag => addTagToContainer(tag, 'tagsInput'));
loadComments(cardId);
document.getElementById('cardModal').classList.add('active');
}
function closeCardModal() {
document.getElementById('cardModal').classList.remove('active');
currentCardId = null;
}
function saveCard(event) {
event.preventDefault();
if (!currentCardId) return;
const title = document.getElementById('cardTitle').value;
const description = document.getElementById('cardDescription').value;
const assignee = document.getElementById('cardAssignee').value;
const tagElements = document.querySelectorAll('#tagsInput .tag-item');
const tags = Array.from(tagElements).map(el => el.dataset.tag);
cards[currentCardId].title = title;
cards[currentCardId].description = description;
cards[currentCardId].user = assignee;
cards[currentCardId].tags = tags;
updateCardDOM(currentCardId);
closeCardModal();
}
function updateCardDOM(cardId) {
const card = cards[cardId];
const cardElement = document.querySelector(`[data-card-id="${cardId}"]`);
if (!cardElement) return;
cardElement.dataset.tags = card.tags.join(',');
cardElement.dataset.user = card.user || '';
cardElement.querySelector('.card-title').textContent = card.title;
const tagsContainer = cardElement.querySelector('.card-tags');
tagsContainer.innerHTML = '';
card.tags.forEach(tag => {
const tagEl = document.createElement('span');
tagEl.className = `tag ${tag}`;
tagEl.textContent = tag;
tagsContainer.appendChild(tagEl);
});
const assigneeContainer = cardElement.querySelector('.card-assignee');
if (card.user && users[card.user]) {
assigneeContainer.innerHTML = `<div class="assignee-avatar">${users[card.user].avatar}</div>`;
} else {
assigneeContainer.innerHTML = '';
}
}
function addTagToContainer(tag, containerId) {
const container = document.getElementById(containerId);
const tagEl = document.createElement('div');
tagEl.className = 'tag-item';
tagEl.dataset.tag = tag;
tagEl.innerHTML = `
<span class="tag ${tag}">${tag}</span>
<button type="button" onclick="removeTag(this)">&times;</button>
`;
const input = container.querySelector('input');
container.insertBefore(tagEl, input);
input.value = '';
}
function removeTag(button) {
button.parentElement.remove();
}
function handleTagInput(event) {
if (event.key === 'Enter') {
event.preventDefault();
const value = event.target.value.trim();
if (value) {
addTagToContainer(value, 'tagsInput');
}
}
}
function handleNewCardTagInput(event) {
if (event.key === 'Enter') {
event.preventDefault();
const value = event.target.value.trim();
if (value) {
addTagToContainer(value, 'newCardTagsInput');
}
}
}
function loadComments(cardId) {
const commentsList = document.getElementById('commentsList');
commentsList.innerHTML = '';
cards[cardId].comments.forEach(comment => {
const commentEl = document.createElement('div');
commentEl.className = 'comment';
commentEl.innerHTML = `
<div class="comment-header">
<span class="comment-author">${comment.author}</span>
<span class="comment-time">${comment.time}</span>
</div>
<div class="comment-text">${comment.text}</div>
`;
commentsList.appendChild(commentEl);
});
}
function addComment() {
const input = document.getElementById('commentInput');
if (!input.value.trim() || !currentCardId) return;
const comment = {
author: 'Vous',
text: input.value.trim(),
time: new Date().toLocaleString()
};
cards[currentCardId].comments.push(comment);
loadComments(currentCardId);
input.value = '';
simulateRealtimeComment();
}
function simulateRealtimeComment() {
setTimeout(() => {
const otherUsers = Object.keys(users).filter(u => u !== 'user1');
const randomUser = otherUsers[Math.floor(Math.random() * otherUsers.length)];
const cardIds = Object.keys(cards);
const randomCard = cardIds[Math.floor(Math.random() * cardIds.length)];
const fakeComment = {
author: users[randomUser].name,
text: 'Ceci est un commentaire en temps réel !',
time: new Date().toLocaleString()
};
cards[randomCard].comments.push(fakeComment);
if (currentCardId === randomCard) {
loadComments(randomCard);
}
}, Math.random() * 5000 + 3000);
}
function openTagModal() {
document.getElementById('tagModal').classList.add('active');
}
function closeTagModal() {
document.getElementById('tagModal').classList.remove('active');
}
function saveNewCard(event) {
event.preventDefault();
const title = document.getElementById('newCardTitle').value;
const description = document.getElementById('newCardDescription').value;
const assignee = document.getElementById('newCardAssignee').value;
const tagElements = document.querySelectorAll('#newCardTagsInput .tag-item');
const tags = Array.from(tagElements).map(el => el.dataset.tag);
const cardId = 'card' + Date.now();
const newCard = {
id: cardId,
title,
description,
tags,
user: assignee,
comments: []
};
cards[cardId] = newCard;
const column = document.querySelector(`[data-column="${currentTargetColumn}"] .cards-container`);
const cardElement = createCardElement(newCard);
column.appendChild(cardElement);
closeAddCardModal();
}
function createCardElement(card) {
const div = document.createElement('div');
div.className = 'kanban-card';
div.draggable = true;
div.ondragstart = dragStart;
div.onclick = () => openCardModal(card.id);
div.dataset.cardId = card.id;
div.dataset.tags = card.tags.join(',');
div.dataset.user = card.user || '';
let tagsHtml = card.tags.map(t => `<span class="tag ${t}">${t}</span>`).join('');
let assigneeHtml = '';
if (card.user && users[card.user]) {
assigneeHtml = `<div class="assignee-avatar">${users[card.user].avatar}</div>`;
}
div.innerHTML = `
<div class="card-title">${card.title}</div>
<div class="card-tags">${tagsHtml}</div>
<div class="card-meta">
<div class="card-assignee">${assigneeHtml}</div>
<div class="card-comments">${card.comments.length} commentaires</div>
</div>
`;
return div;
}
function closeAddCardModal() {
document.getElementById('addCardModal').classList.remove('active');
document.getElementById('newCardTitle').value = '';
document.getElementById('newCardDescription').value = '';
document.getElementById('newCardAssignee').value = '';
document.getElementById('newCardTagsInput').innerHTML = '<input type="text" id="newCardTagInput" placeholder="Ajouter une étiquette..." onkeypress="handleNewCardTagInput(event)">';
currentTargetColumn = '';
}
function applyFilters() {
const tagFilter = document.getElementById('tagFilter').value;
const userFilter = document.getElementById('userFilter').value;
const allCards = document.querySelectorAll('.kanban-card');
allCards.forEach(card => {
const tags = card.dataset.tags ? card.dataset.tags.split(',') : [];
const user = card.dataset.user;
let showCard = true;
if (tagFilter && !tags.includes(tagFilter)) showCard = false;
if (userFilter && user !== userFilter) showCard = false;
card.style.display = showCard ? 'block' : 'none';
});
}
function updateCardComments(cardId) {
const cardElement = document.querySelector(`[data-card-id="${cardId}"]`);
if (cardElement && cards[cardId]) {
cardElement.querySelector('.card-comments').textContent = `${cards[cardId].comments.length} commentaires`;
}
}
function checkForUpdates() {
setTimeout(() => {
simulateRealtimeComment();
}, 2000);
}
document.querySelectorAll('.kanban-card').forEach(card => {
card.ondragstart = dragStart;
card.onclick = () => openCardModal(card.dataset.cardId);
});
document.querySelectorAll('.modal').forEach(modal => {
modal.onclick = (e) => {
if (e.target === modal) {
modal.classList.remove('active');
}
};
});
setInterval(() => {
simulateRealtimeComment();
}, 10000);
</script>
</body>
</html>